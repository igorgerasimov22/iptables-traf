# Настройка inetRouter

Этот Ansible playbook настраивает маршрутизатор inetRouter в сети. Он устанавливает необходимые пакеты, настраивает сетевые интерфейсы, включает IP-маршрутизацию, настраивает NAT и устанавливает скрипт для knocking port.

## Описание Playbook

### Основные функции

- Установка необходимых пакетов для работы с сетевыми интерфейсами и утилитами.
- Настройка IP-адресов на интерфейсах маршрутизатора:
  - `192.168.2.1/26` на интерфейсе `eth1`
  - `192.168.1.1/25` на интерфейсе `eth2`
  - `192.168.0.1/28` на интерфейсе `eth3`
- Включение IP-маршрутизации для пересылки пакетов между сетями.
- Настройка NAT для доступа в интернет.
- Установка и настройка `knockd` для реализации knocking port для SSH доступа.

### Пример использования

1. Убедитесь, что у вас установлен Ansible.
2. Настройте файл инвентаризации Ansible, добавив сервер inetRouter в соответствующую группу.
3. Создайте файл `knockd.conf` с необходимыми параметрами для настройки knocking port.
4. Запустите playbook с помощью следующей команды:

```bash
   ansible-playbook inetRouter.yml
```


# Настройка inetRouter2

Этот Ansible playbook настраивает маршрутизатор inetRouter2 в сети. Он устанавливает необходимые пакеты, настраивает сетевые интерфейсы, включает IP-маршрутизацию и устанавливает веб-сервер Nginx.

## Описание Playbook

### Основные функции

- Установка необходимых пакетов для работы с сетевыми интерфейсами.
- Настройка IP-адреса на интерфейсе маршрутизатора:
  - `192.168.0.3/28` на интерфейсе `eth0`.
- Включение IP-маршрутизации для пересылки пакетов между сетями.
- Установка и настройка веб-сервера Nginx.
- Запуск и активация службы Nginx при загрузке системы.
- Настройка проброса порта с 8080 на 80 для доступа к Nginx.

### Пример использования

1. Убедитесь, что у вас установлен Ansible.
2. Настройте файл инвентаризации Ansible, добавив сервер inetRouter2 в соответствующую группу.
3. Запустите playbook с помощью следующей команды:

```bash
   ansible-playbook inetRouter2.yml
```


# Настройка centralRouter

Этот Ansible playbook настраивает маршрутизатор centralRouter в сети. Он устанавливает необходимые пакеты, настраивает сетевые интерфейсы, включает IP-маршрутизацию и настраивает статические маршруты для соединения с другими сетями.

## Описание Playbook

### Основные функции

- Установка необходимых пакетов для работы с сетевыми интерфейсами.
- Настройка IP-адресов на интерфейсах маршрутизатора:
  - `192.168.0.2/28` на интерфейсе `eth1` (для директоров).
  - `192.168.2.2/26` на интерфейсе `eth2` (для офиса 1).
  - `192.168.1.2/25` на интерфейсе `eth3` (для офиса 2).
- Включение IP-маршрутизации для пересылки пакетов между сетями.
- Настройка статического маршрута для связи с офисом 1.

### Пример использования

1. Убедитесь, что у вас установлен Ansible.
2. Настройте файл инвентаризации Ansible, добавив сервер centralRouter в соответствующую группу.
3. Запустите playbook с помощью следующей команды:

```bash
   ansible-playbook centralRouter.yml
```


# Настройка centralServer

Этот Ansible playbook настраивает центральный сервер (centralServer) в сети. Он устанавливает необходимые пакеты для веб-сервера, запускает и активирует службу Apache, а также настраивает сетевые интерфейсы.

## Описание Playbook

### Основные функции

- Установка веб-сервера Apache.
- Запуск и включение службы Apache при загрузке.
- Настройка IP-адреса на сетевом интерфейсе.

### Переменные

Этот playbook использует следующие переменные:

- **IP-адрес**:
  - `192.168.0.4/28` на интерфейсе `eth0` (IP-адрес для центрального сервера).

### Пример использования

1. Убедитесь, что у вас установлен Ansible.
2. Настройте файл инвентаризации Ansible, добавив сервер centralServer в соответствующую группу.
3. Запустите playbook с помощью следующей команды:

```bash
   ansible-playbook centralServer.yml
```